scoreboard players add $Trap Global 1
execute if score $Trap Global matches 1 run scoreboard players set $Time Global 40
execute if score $Trap Global matches 1 if predicate bucchi:random/50 run tag @e[tag=Main] add CurveA
# 移動開始
execute if entity @e[tag=Main,tag=CurveA] run tag @e[tag=Center2_4,tag=Block,tag=!Scale5] add CurveA
execute unless entity @e[tag=Main,tag=CurveA] run tag @e[tag=Center2_4,tag=Block,tag=!Scale5] add CurveB
tag @e[tag=Center2_4,tag=Tear,tag=!Straight0.2] add Position0_0.76
tag @e[tag=Center2_4,tag=Tear,tag=!Straight0.2] add Straight0.2
tag @e[tag=!Main,tag=Center2_4,tag=Block,tag=!Scale5] add Position0_0
tag @e[tag=!Main,tag=Center2_4,tag=Block,tag=!Scale5] add Scale5
execute as @a positioned as @s run playsound minecraft:entity.player.levelup master @s ~ ~ ~ 0.2 2
# 次の弾幕準備
execute if entity @e[tag=Main,tag=CurveA] as @e[tag=Main] positioned as @s positioned 0 80 -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 rotated ~54 ~ positioned ^ ^ ^30 run summon minecraft:armor_stand ~ 60 ~ {Tags: ["Center2_4", "Tear"], ArmorItems: [{}, {}, {}, {id: "minecraft:ghast_tear", Count: 1b}], Invisible: 1b, Marker: 1b, NoBasePlate: 1b, Fire: 32767s, Pose: {Head: [90.0f, 0.0f, 0.0f]}}
execute if entity @e[tag=Main,tag=CurveB] as @e[tag=Main] positioned as @s positioned 0 80 -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 rotated ~-54 ~ positioned ^ ^ ^30 run summon minecraft:armor_stand ~ 60 ~ {Tags: ["Center2_4", "Tear"], ArmorItems: [{}, {}, {}, {id: "minecraft:ghast_tear", Count: 1b}], Invisible: 1b, Marker: 1b, NoBasePlate: 1b, Fire: 32767s, Pose: {Head: [90.0f, 0.0f, 0.0f]}}
execute if score $Trap Global matches 1 positioned as @e[tag=!Barrage,tag=Center2_4,tag=Tear] run summon minecraft:armor_stand ~ ~ ~ {Tags: ["Center2_4", "Block"], ArmorItems: [{}, {}, {}, {id: "minecraft:tube_coral_block", Count: 1b}], Invisible: 1b, Marker: 1b, NoBasePlate: 1b, Fire: 32767s, Pose: {Head: [180.0f, 0.0f, 0.0f], LeftLeg: [180.0f, 0.0f, 0.0f], RightLeg: [180.0f, 0.0f, 0.0f]}}
execute as @e[tag=!Barrage,tag=Center2_4,tag=Tear] positioned as @s facing 0 60 -200 run teleport @s ~ 62 ~ ~180 0
execute as @e[tag=!Barrage,tag=Center2_4,tag=Block] positioned as @s positioned ~ ~30 ~ facing 0 60 -200 run teleport @s ~ 62 ~ ~ ~
tag @e[tag=!Barrage,tag=Center2_4] add Barrage