scoreboard players add $trap obj 1
execute if score $trap obj matches 1 run scoreboard players set $time obj 50
execute if score $trap obj matches 1 run loot replace block 0 16 0 container.0 loot bucchi:random/2
execute if score $trap obj matches 1 if block 0 16 0 minecraft:furnace{Items: [{Count: 1b}]} run tag @e[tag=main,tag=center3_4A] add curveA
#execute if score $trap obj matches 1 if predicate bucchi:random/50 run tag @e[tag=main,tag=center3_4A] add curveA
#移動開始
execute if entity @e[tag=main,tag=center3_4A,tag=curveA] run tag @e[tag=center3_4A,tag=!scale5] add curveA
execute unless entity @e[tag=main,tag=center3_4A,tag=curveA] run tag @e[tag=center3_4A,tag=!scale5] add curveB
tag @e[tag=!main,tag=center3_4A,tag=!scale5] add position0_0
tag @e[tag=!main,tag=center3_4A,tag=!scale5] add scale5
execute as @a positioned as @s run playsound minecraft:entity.player.levelup master @s ~ ~ ~ 0.2 2
#次の弾幕準備
execute if score $trap obj matches 1 if entity @e[tag=main,tag=center3_4A,tag=curveA] as @e[tag=main,tag=center3_4A] positioned as @s positioned 0 80 -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 rotated ~54 ~ positioned ^ ^ ^30 run summon minecraft:armor_stand ~ 60 ~ {Tags: ["center3_4A", "block"], ArmorItems: [{}, {}, {}, {id: "minecraft:horn_coral_block", Count: 1b}], Invisible: 1b, Marker: 1b, NoBasePlate: 1b, Fire: 32767s, Pose: {Head: [180.0f, 0.0f, 0.0f], LeftLeg: [180.0f, 0.0f, 0.0f], RightLeg: [180.0f, 0.0f, 0.0f]}}
execute if score $trap obj matches 1 if entity @e[tag=main,tag=center3_4A,tag=curveB] as @e[tag=main,tag=center3_4A] positioned as @s positioned 0 80 -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 positioned 0 ~ -200 facing entity @s feet positioned as @s positioned ^ ^ ^-30 rotated ~-54 ~ positioned ^ ^ ^30 run summon minecraft:armor_stand ~ 60 ~ {Tags: ["center3_4A", "block"], ArmorItems: [{}, {}, {}, {id: "minecraft:horn_coral_block", Count: 1b}], Invisible: 1b, Marker: 1b, NoBasePlate: 1b, Fire: 32767s, Pose: {Head: [180.0f, 0.0f, 0.0f], LeftLeg: [180.0f, 0.0f, 0.0f], RightLeg: [180.0f, 0.0f, 0.0f]}}
execute as @e[tag=!barrage,tag=center3_4A] positioned as @s positioned ~ ~30 ~ facing 0 60 -200 run teleport @s ~ 62 ~ ~ ~
tag @e[tag=!barrage,tag=center3_4A] add barrage